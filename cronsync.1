.\" Text automatically generated by txt2man
.TH cronsync 1 "19 december 2017" "" ""
.SH NAME
\fBcronsync \fP- script to sync a local mirror against Mageia repositories
\fB
.SH SYNOPSIS
.nf
.fam C
\fBcronsync\fP [\fIoptions\fP] 

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION
\fBcronsync\fP is a bash script for syncing a local repository from Mageia mirrors using rsync. When the failure of a first tier mirror almost caused my local repo to be wiped I wrote this little script which does the following:

* Checks the accessibility and file count of the first mirror in the 'mymirrors' variable in the script.

* If the file count on the mirror has dropped by more than a preset limit then other mirrors are checked until a good one (or none) is found.

On finding a good mirror cronsync uses rsync to sync the repo from the mirror.

Any failures are reported in 
.B ~/cronsync_error.log.
.br
A copy of the last successful update output is saved in
.B ~/cronsync_last.log.
.br
A list of file counts for all mirrors used is saved in 
.B ~/cronsync_file_count.log.

To run as a cron job at ten past every hour use:
.br
$ crontab -e
.br
and set for example:
.br
10 * * * * $HOME/cronsync
.SH OPTIONS
.TP
.B
\fB-e\fP
Add Extra repo location
.TP
.B
\fB-n\fP
Remove Extra repo location
.SH AUTHOR
Barry Jackson

This manpage was created by Johnny A. Solbu <johnny@solbu.net>.
.SH SEE ALSO
\fBrsync\fP(1).
